{"version":3,"file":"hrtime.js","sources":["../src/index.ts"],"sourcesContent":["const _perfomancePolyfill = () =>{\n  // based on https://gist.github.com/paulirish/5438650 copyright Paul Irish 2015.\n  if (\"performance\" in window === false) {\n      (window.performance as any) = {};\n  }\n\n  Date.now = (Date.now || (() => {  // thanks IE8\n    return new Date().getTime();\n  }));\n\n  if (\"now\" in window.performance === false){\n    let nowOffset = Date.now();\n    \n    if (performance.timing && performance.timing.navigationStart){\n      nowOffset = performance.timing.navigationStart\n    }\n\n    window.performance.now = () => Date.now() - nowOffset;\n  }\n}\n\nconst _hrtime = (previousTimestamp?: [number, number]): [number, number] => {\n  _perfomancePolyfill();\n  const baseNow = Math.floor((Date.now() - performance.now()) * 1e-3);\n  const clocktime = performance.now() * 1e-3;\n  let seconds = Math.floor(clocktime) + baseNow;\n  let nanoseconds = Math.floor((clocktime % 1) * 1e9);\n\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0];\n    nanoseconds = nanoseconds - previousTimestamp[1];\n    if (nanoseconds < 0) {\n      seconds--;\n      nanoseconds += 1e9;\n    }\n  }\n  return [seconds, nanoseconds];\n};\nconst NS_PER_SEC: number = 1e9;\n_hrtime.bigint = (time?: [number, number]): bigint => {\n  const diff = _hrtime(time);\n  return ((diff[0] * NS_PER_SEC + diff[1]) as unknown) as bigint;\n};\nif ((typeof process === 'undefined' || typeof process.hrtime === 'undefined') && typeof window.process === 'undefined') {\n  window.process = ({} as any);\n}\nexport default typeof process.hrtime === 'undefined' ? (window.process.hrtime = _hrtime) : process.hrtime;\n"],"names":["_hrtime","previousTimestamp","window","performance","Date","now","getTime","nowOffset_1","timing","navigationStart","_perfomancePolyfill","baseNow","Math","floor","clocktime","seconds","nanoseconds","bigint","time","diff","process","hrtime"],"mappings":"uOAAA,IAqBMA,EAAU,SAACC,IArBW,WAU1B,GARI,gBAAiBC,QAAW,IAC3BA,OAAOC,YAAsB,IAGlCC,KAAKC,IAAOD,KAAKC,gBACf,OAAO,IAAID,MAAOE,WAGhB,QAASJ,OAAOC,aAAgB,EAAM,CACxC,IAAII,EAAYH,KAAKC,MAEjBF,YAAYK,QAAUL,YAAYK,OAAOC,kBAC3CF,EAAYJ,YAAYK,OAAOC,iBAGjCP,OAAOC,YAAYE,IAAM,WAAM,OAAAD,KAAKC,MAAQE,IAK9CG,GACA,IAAMC,EAAUC,KAAKC,MAAyC,MAAlCT,KAAKC,MAAQF,YAAYE,QAC/CS,EAAgC,KAApBX,YAAYE,MAC1BU,EAAUH,KAAKC,MAAMC,GAAaH,EAClCK,EAAcJ,KAAKC,MAAOC,EAAY,EAAK,KAU/C,OARIb,IACFc,GAAoBd,EAAkB,IACtCe,GAA4Bf,EAAkB,IAC5B,IAChBc,IACAC,GAAe,MAGZ,CAACD,EAASC,WAGnBhB,EAAQiB,OAAS,SAACC,GAChB,IAAMC,EAAOnB,EAAQkB,GACrB,OAHyB,IAGhBC,EAAK,GAAkBA,EAAK,IAEf,oBAAZC,cAAqD,IAAnBA,QAAQC,aAAqD,IAAnBnB,OAAOkB,UAC7FlB,OAAOkB,QAAW,SAEqB,IAAnBA,QAAQC,OAA0BnB,OAAOkB,QAAQC,OAASrB,EAAWoB,QAAQC"}